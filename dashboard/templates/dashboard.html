{% extends 'base.html' %}

{% block head %}
{% load static %}
<link rel="stylesheet" href="{% static 'css/dashboard.css' %}" />
<title>Dashboard</title>
{% endblock %}

{% block body %}
<div class="container">
    <button type="button" class="btn btn-primary" id="create-bot-button" data-toggle="modal"
        data-target="#createBotModal">
        + Create Bot
    </button>

    <!-- Modal -->
    <div class="modal fade" id="createBotModal" data-backdrop="static" data-keyboard="false" tabindex="-1"
        aria-labelledby="createBotModalTitle" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="createBotModalTitle">Create Bot</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body" id="modal-body">
                    <form action="">
                        <div class="form-group">
                            <span class="label-custom">Pair</span>
                            <input type="text" class="form-control" id="pair" placeholder="- -" required>
                            <div id="suggestionResult">
                                <ul></ul>
                            </div>
                        </div>
                        <div class="form-group">
                            <span class="label-custom" id="amountLabel">Amount</span>
                            <input type="number" max="100" min="0" step="0.00000001" class="form-control" id="amount"
                                placeholder="BTC" required>
                            <input type="range" class="form-control-range" id="amountRange" max='100' min='0'
                                value='25'>
                        </div>
                        <div class="form-group">
                            <span class="label-custom">Settings</span>
                            <select id="timeFrame" class="form-control" required>
                                <option>5m</option>
                                <option>15m</option>
                                <option>1h</option>
                                <option>6h</option>
                                <option>12h</option>
                                <option selected>1d</option>
                            </select>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" id="EMA_Ribbon" value="EMA_Ribbon" checked>
                                <label class="form-check-label" for="18_EMA_Ribbon">18 EMA Ribbon</label>
                            </div>
                        </div>
                        <div class="form-group">
                            <span class="label-custom">Trailing Stop Loss (%)</span>
                            <input type="number" max="100" min="1" step="0.1" class="form-control" id="trailingStopLoss"
                                value="8" required>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Back</button>
                    <button type="button" class="btn btn-primary" id="submitCreateBotForm">Create</button>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}

{% block javascript %}
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"
    integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script>
<script type="text/javascript" src="{% static 'js/dashboard.js' %}"></script>
<script>
    //temporary variables representing user's wallet portfolio
    var amountBTC = {{ amountBTC }};
    var amountUSDT = {{ amountUSDT }};
</script>
{% endblock %}